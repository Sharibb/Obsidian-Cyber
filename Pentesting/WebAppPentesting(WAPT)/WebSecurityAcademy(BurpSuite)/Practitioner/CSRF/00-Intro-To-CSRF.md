
---

# **Cross-Site Request Forgery (CSRF) – A Deep Dive**  

## **What is CSRF?**  
CSRF (Cross-Site Request Forgery) is a web security vulnerability that allows an attacker to trick a victim into performing unintended actions on a web application where they are authenticated. Unlike XSS, which exploits the trust a user has in a website, CSRF exploits the trust that a website has in the user’s browser.  

![[CSRF-00.png]]

### **Key Characteristics:**  
- The attack relies on the victim being logged into a vulnerable application.  
- The attacker crafts a malicious request that gets executed when the victim visits or interacts with a booby-trapped page.  
- The request appears legitimate to the server because it includes the victim’s session cookies automatically.  

---

## **How Does CSRF Work?**  
1. **Victim Authentication**: The victim logs into a vulnerable site (e.g., `bank.com`), and their session is stored in cookies.  
2. **Attacker Lures Victim**: The attacker tricks the victim into visiting a malicious page (e.g., via phishing email, forum post, or social engineering).  
3. **Malicious Request Execution**: The malicious page contains hidden code (e.g., an auto-submitted form or `<img>` tag) that sends an unwanted request to `bank.com`.  
4. **Server Processes Request**: Since the browser attaches cookies automatically, `bank.com` treats it as legitimate and executes it (e.g., transferring money).  

### **Example Attack Scenario:**  
```html
<!-- Malicious page hosted by attacker -->
<form action="https://bank.com/transfer" method="POST">
  <input type="hidden" name="amount" value="1000">
  <input type="hidden" name="toAccount" value="ATTACKER_ACCOUNT">
</form>
<script>document.forms[0].submit();</script>
```
If the victim visits this page while logged into `bank.com`, their browser will silently submit this form, transferring money without consent.

---

## **Why is CSRF Dangerous?**  
- Can perform actions like:  
  - Changing account details (email/password).  
  - Making financial transactions.  
 